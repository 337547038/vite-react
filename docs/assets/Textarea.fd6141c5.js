var R=Object.defineProperty,W=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var V=(e,t,a)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,h=(e,t)=>{for(var a in t||(t={}))A.call(t,a)&&V(e,a,t[a]);if(N)for(var a of N(t))k.call(t,a)&&V(e,a,t[a]);return e},l=(e,t)=>W(e,$(t));import{r as o,j as b,c as y,p as v,a as p}from"./index.be43aed1.js";import{a as q}from"./contextForm.5ae3f644.js";import{o as z,d as B}from"./index.4eedf3c9.js";const f=o.exports.forwardRef((e,t)=>{const{maxLength:a=0,autoHeight:H=!0}=e,[i,u]=o.exports.useState(e.defaultValue),r=o.exports.useRef(null),I=()=>i,S=()=>{var s;(s=r.current)==null||s.focus()},T=()=>{u("")};o.exports.useImperativeHandle(t,()=>({getValue:I,focus:S,clear:T}));const g=o.exports.useContext(q),w=g.disabled||e.disabled,j={width:e.width,height:e.height,minHeight:e.height,overflow:H?"hidden":"",maxHeight:e.maxHeight},[c,x]=o.exports.useState(j),L=s=>{const{value:n}=s.target;u(n),e.onChange&&e.onChange(n,s),E(),g.controlChange&&g.controlChange(n,"change")},E=B(()=>{var s,n,C;if(H){const P=(((s=r.current)==null?void 0:s.offsetHeight)||0)-(((n=r.current)==null?void 0:n.clientHeight)||0),d=(((C=r.current)==null?void 0:C.scrollHeight)||0)+P,m=parseInt(e.maxHeight||"0",10)||0;m?d<m?x(l(h({},c),{height:d+"px"})):x(l(h({},c),{height:m+"px",overflow:"auto"})):x(l(h({},c),{height:d+"px"}))}},1e3);o.exports.useEffect(()=>{u(e.defaultValue)},[e.defaultValue]);const F=z(e,["autoHeight","showWordLimit","defaultValue","maxHeight"]);return b("div",{className:y(`${v}-textarea`,e.className),children:[p("textarea",l(h({},F),{ref:r,value:i,className:y(`${v}-input-control`,{disabled:w}),style:c,disabled:w,onChange:L})),e.showWordLimit&&a?b("span",{className:"input-count",children:[i==null?void 0:i.length,"/",a]}):""]})});f.displayName="Textarea";f.defaultProps={width:"100%",height:"80px"};f.propTypes={};export{f as T};
