import{r as n,j as h,c as d,p as y,a as c}from"./index.be43aed1.js";import{a as j}from"./contextForm.5ae3f644.js";const f=n.exports.forwardRef((e,C)=>{const[s,u]=n.exports.useState(e.defaultValue),[o,g]=n.exports.useState(e.showEye),[I,r]=n.exports.useState(e.type),m=n.exports.useRef(null),i=n.exports.useContext(j),N=()=>s,w=()=>{var t;(t=m.current)==null||t.focus()},V=()=>{u("")};n.exports.useImperativeHandle(C,()=>({getValue:N,focus:w,clear:V}));const x=i.disabled||e.disabled,l=(t,a)=>{e.updateContext||i.controlChange&&i.controlChange(t,a)},E=t=>{const{value:a}=t.target;u(a),e.onChange&&e.onChange(a,t),l(a,"change")},F=t=>{const{value:a}=t.target;e.onFocus&&e.onFocus(a,t),l(a,"focus")},v=t=>{const{value:a}=t.target;e.onBlur&&e.onBlur(a,t),l(a,"blur")},S=()=>{u(""),l("","change")},b=()=>{g(!o),r(o?"text":e.type)};return n.exports.useEffect(()=>{u(e.defaultValue),l(e.defaultValue||"","default")},[e.defaultValue]),h("div",{className:d(e.className,{[y+"-form-input"]:!0,"input-prepend":e.prepend,"input-append":e.append}),style:{width:e.width},children:[e.prepend?c("div",{className:"prepend",children:e.prepend}):"",c("input",{ref:m,placeholder:e.placeholder,autoComplete:"off",value:s,type:I,name:e.name,maxLength:e.maxLength,readOnly:e.readOnly,className:d({disabled:x,[y+"-input-control"]:!0,"has-prefix":e.prefixIcon,[e.size]:e.size}),onChange:E,onBlur:v,onFocus:F,disabled:x}),e.append?c("div",{className:"append",children:e.append}):"",e.prefixIcon?c("span",{className:"prefix-icon",children:c("i",{className:e.prefixIcon})}):"",h("span",{className:"suffix-icon",children:[e.suffixIcon?c("i",{className:e.suffixIcon}):"",e.clear&&s?c("i",{className:"icon-close",onClick:S}):"",e.showEye&&s&&e.type==="password"?c("i",{className:d({"icon-eye-close":o,"icon-eye":!o}),onClick:b}):""]})]})});f.displayName="Input";f.defaultProps={defaultValue:"",type:"text"};f.propTypes={};export{f as I};
