import{r as n,j as h,c as d,p as y,a as l}from"./index.b63450ce.js";import{a as j}from"./contextForm.5487fa67.js";const f=n.exports.forwardRef((e,C)=>{const[s,u]=n.exports.useState(e.defaultValue),[o,g]=n.exports.useState(e.showEye),[I,r]=n.exports.useState(e.type),m=n.exports.useRef(null),i=n.exports.useContext(j),N=()=>s,w=()=>{var t;(t=m.current)==null||t.focus()},v=()=>{u("")};n.exports.useImperativeHandle(C,()=>({getValue:N,focus:w,clear:v}));const x=i.disabled||e.disabled,c=(t,a)=>{e.updateContext||i.controlChange&&i.controlChange(t,a)},V=t=>{const{value:a}=t.target;u(a),e.onChange&&e.onChange(a,t),c(a,"change")},E=t=>{const{value:a}=t.target;e.onFocus&&e.onFocus(a,t),c(a,"focus")},F=t=>{const{value:a}=t.target;e.onBlur&&e.onBlur(a,t),c(a,"blur")},S=()=>{u(""),c("","change")},b=()=>{g(!o),r(o?"text":e.type)};return n.exports.useEffect(()=>{u(e.defaultValue),c(e.defaultValue||"","default")},[e.defaultValue]),h("div",{className:d(e.className,{[y+"-form-input"]:!0,"input-prepend":e.prepend,"input-append":e.append}),style:{width:e.width},children:[e.prepend?l("div",{className:"prepend",children:e.prepend}):"",l("input",{ref:m,placeholder:e.placeholder,autoComplete:"off",value:s,type:I,name:e.name,maxLength:e.maxLength,readOnly:e.readOnly,className:d({disabled:x,[y+"-input-control"]:!0,"has-prefix":e.prefixIcon,[e.size]:e.size}),onChange:V,onBlur:F,onFocus:E,disabled:x}),e.append?l("div",{className:"append",children:e.append}):"",e.prefixIcon?l("span",{className:"prefix-icon",children:l("i",{className:e.prefixIcon})}):"",h("span",{className:"suffix-icon",children:[e.suffixIcon?l("i",{className:e.suffixIcon}):"",e.clear&&s?l("i",{className:"icon-close",onClick:S}):"",e.showEye&&s&&e.type==="password"?l("i",{className:d({"icon-eye-close":o,"icon-eye":!o}),onClick:b}):""]})]})});f.displayName="Input";f.defaultProps={defaultValue:"",type:"text"};f.propTypes={};export{f as I};
