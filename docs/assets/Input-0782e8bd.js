import{r as c,j as a,c as d,p as h}from"./index-eab8b3d4.js";import{a as S}from"./contextForm-cfeffa56.js";const f=c.forwardRef((e,y)=>{const[l,u]=c.useState(e.defaultValue),[i,C]=c.useState(e.showEye),[g,x]=c.useState(e.type),m=c.useRef(null),o=c.useContext(S),I=()=>l,N=()=>{var t;(t=m.current)==null||t.focus()},j=()=>{u("")};c.useImperativeHandle(y,()=>({getValue:I,focus:N,clear:j}));const r=o.disabled||e.disabled,s=(t,n)=>{e.updateContext||o.controlChange&&o.controlChange(t,n)},w=t=>{const{value:n}=t.target;u(n),e.onChange&&e.onChange(n,t),s(n,"change")},V=t=>{const{value:n}=t.target;e.onFocus&&e.onFocus(n,t),s(n,"focus")},E=t=>{const{value:n}=t.target;e.onBlur&&e.onBlur(n,t),s(n,"blur")},F=()=>{u(""),s("","change")},v=()=>{C(!i),x(i?"text":e.type)};return c.useEffect(()=>{u(e.defaultValue),s(e.defaultValue||"","default")},[e.defaultValue]),a.jsxs("div",{className:d(e.className,{[h+"-form-input"]:!0,"input-prepend":e.prepend,"input-append":e.append}),style:{width:e.width},children:[e.prepend?a.jsx("div",{className:"prepend",children:e.prepend}):"",a.jsx("input",{ref:m,placeholder:e.placeholder,autoComplete:"off",value:l,type:g,name:e.name,maxLength:e.maxLength,readOnly:e.readOnly,className:d({disabled:r,[h+"-input-control"]:!0,"has-prefix":e.prefixIcon,[e.size]:e.size}),onChange:w,onBlur:E,onFocus:V,disabled:r}),e.append?a.jsx("div",{className:"append",children:e.append}):"",e.prefixIcon?a.jsx("span",{className:"prefix-icon",children:a.jsx("i",{className:e.prefixIcon})}):"",a.jsxs("span",{className:"suffix-icon",children:[e.suffixIcon?a.jsx("i",{className:e.suffixIcon}):"",e.clear&&l?a.jsx("i",{className:"icon-close",onClick:F}):"",e.showEye&&l&&e.type==="password"?a.jsx("i",{className:d({"icon-eye-close":i,"icon-eye":!i}),onClick:v}):""]})]})});f.displayName="Input";f.defaultProps={defaultValue:"",type:"text"};f.propTypes={};export{f as I};
