import{R as y,r as a,j as l,c as L,p as C,b as Y}from"./index-eab8b3d4.js";import{a as B,b as T}from"./dom-7dcdc27f.js";const D=y.forwardRef((s,j)=>{const{appendToBody:R=!0,direction:p="top-left",maxWidth:v=500,delay:E=0,transition:g="fade",trigger:n="hover"}=s,f=a.useRef(null),N=a.useRef(null),[d,h]=a.useState(!1),[S,H]=a.useState({}),c=t=>t%2===0?t:t+1,m=()=>{if(!f.current)return;const t=B(f.current),i=T().width,r=(s.y||0)+8,o=s.x||0;let e={maxWidth:v+"px"};const b=T().height-t.top+r+"px";switch(p){case"top-left":e.left=t.left+o+"px",e.bottom=b;break;case"top":e.transform="translateX(-50%)",e.left=c(t.left+t.width/2+o)+"px",e.bottom=b;break;case"top-right":e.right=i-(t.left+t.width+o)+"px",e.bottom=b;break;case"left":e.right=i-(t.left-8+o)+"px",e.top=c(t.top+t.height/2)+"px",e.transform="translateY(-50%)";break;case"right":e.left=t.left+t.width+8+o+"px",e.top=c(t.top+t.height/2)+"px",e.transform="translateY(-50%)";break;case"bottom-left":e.left=t.left+o+"px",e.top=t.top+t.height+r+"px";break;case"bottom":e.left=c(t.left+t.width/2+o)+"px",e.transform="translateX(-50%)",e.top=t.top+t.height+r+"px";break;case"bottom-right":e.right=i-(t.left+t.width+o)+"px",e.top=t.top+t.height+r+"px";break}H(Object.assign({},s.style,e))},P=t=>{t.stopPropagation()},W=t=>{n==="click"&&(s.always||(x(!d),m()),s.onClick&&s.onClick(!d),t.stopPropagation())},$=()=>{!s.always&&n==="hover"&&u()},M=()=>{s.disabled||n==="click"||s.always||(m(),x(!0))},O=()=>{n==="click"&&u()},u=()=>{window.setTimeout(()=>{x(!1)},E)};y.useImperativeHandle(j,()=>({close:u}));const[X,w]=a.useState(""),x=t=>{let i=`tooltip-${g}-enter`;t?h(!0):i=`tooltip-${g}-exit`,w(i),setTimeout(()=>{t||h(!1),w("")},300)};a.useEffect(()=>{s.always&&(h(!0),m()),n==="click"&&document.addEventListener("click",O,!1)},[]);const k=l.jsxs("div",{ref:N,className:L([`${C}-tooltip`,p,X,s.className]),style:S,onClick:P,children:[l.jsx("i",{className:"arrow"}),s.content?l.jsx("span",{children:s.content}):""]});return s.disabled?l.jsx(l.Fragment,{children:s.children}):l.jsxs("span",{ref:f,className:`${C}-tooltip-box`,onMouseLeave:$,onMouseEnter:M,onClick:W,children:[s.children,d&&!s.disabled?R?Y.createPortal(k,document.body):k:""]})});D.displayName="Tooltip";export{D as T};
